FROM debian:bullseye

RUN dpkg --add-architecture arm64

RUN apt-get update && \
    apt-get install -y python3 python3-pip python3-setuptools python3-wheel \
                    ninja-build crossbuild-essential-amd64 bison flex \
                    g++-aarch64-linux-gnu gcc-aarch64-linux-gnu pkg-config software-properties-common \
                    libdrm-dev:arm64 libx11-dev:arm64 libxext-dev:arm64 && \
    apt-get autoclean && \
    apt-get clean

RUN pip3 install mako meson
